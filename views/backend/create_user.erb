<div class="container">
  <div class="row">
      <div class="col-lg-4">
        <h2>Create A New User</h2>
        <p>Why not create a new user?</p>
        <form role="form" method="post" action="/secure/users">
          <%if @new_user && @new_user.has_errors%>

            <div class="bs-callout bs-callout-danger">
              <h4>Something went wrong!</h4>
              <p>Please check the validation errors below and try again.</p>
              <%@new_user.get_errors(:generic).each do |error|%>
                <p><%=error%></p>
              <%end%>
            </div>

          <%end%>

          <div class="form-group">
            <input type="text" id="email" name="email" class="form-control" placeholder="Email address" autofocus
                   value="<%=params[:email]%>">
            <%if @new_user && @new_user.has_errors(:email)%>
              <div class="bs-callout bs-callout-danger"><%=@new_user.get_errors(:email)%></div>
            <%end%>
          </div>
          <div class="form-group">
            <input type="password" id="password" name="password" class="form-control" placeholder="Password"
                   value="<%=params[:password]%>">
            <%if @new_user && @new_user.has_errors(:password)%>
              <div class="bs-callout bs-callout-danger"><%=@new_user.get_errors(:password)%></div>
            <%end%>
          </div>
          <div class="form-group">
            <input type="text" id="first_name" name="first_name" class="form-control" placeholder="First name"
                   value="<%=params[:first_name]%>">
            <%if @new_user && @new_user.has_errors(:first_name)%>
              <div class="bs-callout bs-callout-danger"><%=@new_user.get_errors(:first_name)%></div>
            <%end%>
          </div>
          <div class="form-group">
            <input type="text" id="last_name" name="last_name" class="form-control" placeholder="Last name"
                   value="<%=params[:last_name]%>">
            <%if @new_user && @new_user.has_errors(:last_name)%>
              <div class="bs-callout bs-callout-danger"><%=@new_user.get_errors(:last_name)%></div>
            <%end%>
          </div>

          <button class="btn btn-default pull-right" type="submit">Create</button>
        </form>
      </div>
    <div class="col-lg-8">
      <h2>Current Users</h2>
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <th>Email</th>
            <th>First Name</th>
            <th>Last Name</th>
          </thead>
          <tbody>
            <% User.each do |user| %>
              <tr>
                <td><%=user.email %></td>
                <td><%=user.first_name %></td>
                <td><%=user.last_name %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>

    </div>
  </div>
</div>